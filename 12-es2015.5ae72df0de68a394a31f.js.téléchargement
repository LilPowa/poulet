(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"ElE/":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i("fXoL"),r=i("ofXK");function o(e,t){1&e&&(n.Ub(0,"i",9),n.Nc(1,"!"),n.Tb())}function s(e,t){1&e&&(n.Ub(0,"i",10),n.Nc(1,"i"),n.Tb())}function a(e,t){1&e&&n.Pb(0,"i",11)}function c(e,t){if(1&e){const e=n.Vb();n.Ub(0,"div",1),n.Ub(1,"div",2),n.Ub(2,"div"),n.Lc(3,o,2,0,"i",3),n.Lc(4,s,2,0,"i",4),n.Lc(5,a,1,0,"i",5),n.Tb(),n.Ub(6,"div",6),n.pc(7),n.Tb(),n.Tb(),n.Ub(8,"a",7),n.ic("click",(function(){return n.Ec(e),n.mc().onHideMessage()})),n.Pb(9,"i",8),n.Tb(),n.Tb()}if(2&e){const e=n.mc();n.Db(e.msgType),n.Bb(3),n.rc("ngIf","error"===e.msgType),n.Bb(1),n.rc("ngIf","success-info"===e.msgType),n.Bb(1),n.rc("ngIf","success-tick"===e.msgType)}}const l=[[["",8,"message-content"]]],b=[".message-content"];let d=(()=>{class e{constructor(){}set showError(e){this.HideMessage=!e}onHideMessage(){this.HideMessage=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Ib({type:e,selectors:[["app-message-info"]],inputs:{msgType:"msgType",iconClassName:"iconClassName",showError:"showError"},ngContentSelectors:b,decls:1,vars:1,consts:[["class","message-block",3,"class",4,"ngIf"],[1,"message-block"],[1,"display-flex"],["class","icon-info",4,"ngIf"],["class","icon-information",4,"ngIf"],["class","added",4,"ngIf"],[1,"message-wrapper"],[3,"click"],[1,"icon-close"],[1,"icon-info"],[1,"icon-information"],[1,"added"]],template:function(e,t){1&e&&(n.qc(l),n.Lc(0,c,10,5,"div",0)),2&e&&n.rc("ngIf",!t.HideMessage)},directives:[r.l],styles:[".message-block[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:1.0714285714rem;margin-bottom:1.4285714286rem;border-radius:5px;background:#e0f0d8;font-weight:700;color:#5d9c68}.message-block[_ngcontent-%COMP%]   .message-wrapper[_ngcontent-%COMP%]{margin:.2142857143rem 1.0714285714rem 0;font-size:1.1428571429rem;line-height:17px}.message-block.error[_ngcontent-%COMP%]{background-color:#000;color:#fff;font-weight:400}.message-block[_ngcontent-%COMP%]   .added[_ngcontent-%COMP%]{width:25px;vertical-align:top;display:inline-block}.message-block[_ngcontent-%COMP%]   .added[_ngcontent-%COMP%]:after{width:25px;height:25px;background:#5d9c68;border:2px solid #5d9c68;left:0;top:-2px}.message-block[_ngcontent-%COMP%]   .added[_ngcontent-%COMP%]:before{left:10px;top:4px}"]}),e})()},J8yP:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("lJxs"),r=i("j6FD"),o=i("vVw+"),s=i("BOF4"),a=i("MsxC"),c=i("AytR"),l=i("pCEw"),b=i("fXoL"),d=i("tk/3"),u=i("tyNb");let p=(()=>{class e{constructor(e,t,i,n,r){this.http=e,this.storageService=t,this.authenticationService=i,this.router=n,this.basketService=r}get guestCustomerData(){return this.guestCustomerDetails}set guestCustomerData(e){this.guestCustomerDetails=e}resetPassword(e){return this.http.post(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/resetpassword",JSON.stringify(e))}getUserDetails(){return this.http.get(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id)}updateUserDetails(e){var t=this.authenticationService.currentUserValue.id;if(this.authenticationService.isLoggedIn())return this.http.post(c.a.apiUrlInternal+"users/"+t,JSON.stringify(e)).pipe(Object(n.a)(e=>(e.token&&(this.storageService.saveToken(e.token),this.authenticationService.currentUserSubject.next(this.getUser())),e)));this.authenticationService.logout(),this.basketService.clearBasket(),localStorage.removeItem("explicationModal"),this.router.navigate(["/mon-compte/connexion"],{queryParams:{returnUrl:this.router.url}})}getTokenExpirationDate(e){const t=s(e);if(void 0===t.exp)return null;const i=new Date(0);return i.setUTCSeconds(t.exp),i}isTokenExpired(e){if(e||(e=this.storageService.getToken()),!e)return!0;const t=this.getTokenExpirationDate(e);return void 0!==t&&!(t.valueOf()>(new Date).valueOf())}getUser(){let e;if(this.storageService.getToken())if(this.isTokenExpired())this.storageService.signOut();else{const t=s(this.storageService.getToken());t&&(e=new r.a,e.id=t.Id,e.firstName=t.FirstName,e.lastname=t.LastName,e.email=t.Email,e.phoneNumber=t.PhoneNumber)}return e}getAddressDetails(){return this.http.get(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/addresses")}getPastOrders(){return this.http.get(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/pastorders")}getReceiptForPastOrders(e){return this.http.get(c.a.apiUrlInternal+"order/"+e+"/generateReceipt")}getFavoriteOrders(){return this.http.get(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/favoriteorders")}getSavedCards(){return this.http.get(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/creditcards")}getStripeSavedCards(){return this.http.get(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/stripecreditcards")}saveFavoriteOrder(e,t){return this.http.post(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/favoriteorders",JSON.stringify({name:e,orderTrackerId:t}))}deleteAccount(){return this.http.post(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/delete",null)}deleteAddress(e){return this.http.post(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/addresses/"+e+"/delete",null)}deleteFavoriteOrder(e){return this.http.post(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/favoriteorders/"+e+"/delete",null)}deleteCard(e){return this.http.post(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/creditcards/"+e+"/delete",null)}registerColonelsClub(e,t){return e.recaptchaToken=t,this.http.post(c.a.apiUrlInternal+"registercolonelclub",JSON.stringify(e))}updateRestaurant(e){return this.http.post(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/restaurants",JSON.stringify(e))}deleteRestaurant(e){return this.http.post(c.a.apiUrlInternal+"users/"+this.authenticationService.currentUserValue.id+"/restaurantname/"+e+"/delete",null)}}return e.\u0275fac=function(t){return new(t||e)(b.ec(d.b),b.ec(o.a),b.ec(a.a),b.ec(u.e),b.ec(l.a))},e.\u0275prov=b.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},KzTZ:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("PCNd"),r=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(t){return new(t||e)},imports:[[n.a]]}),e})()},L4SR:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("PCNd"),r=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=r.Mb({type:e}),e.\u0275inj=r.Lb({factory:function(t){return new(t||e)},imports:[[n.a]]}),e})()},TtYX:function(e,t,i){"use strict";i.d(t,"a",(function(){return J}));var n,r,o,s,a,c,l,b,d,u,p,h,g=i("ahC7"),m=i("MsxC"),f=i("SxV6"),v=i("8/fu"),T=i("zx3v"),w=i("IF+5"),S=i("fFWf"),C=i("3Pt+"),U=i("1cRO"),x=i("AytR"),y=i("fXoL"),O=i("tyNb"),k=i("JqCM"),P=i("ofXK"),M=i("VkHG"),I=i("ajRT"),R=i("kmnG"),E=i("qFsG"),_=i("d3UM"),B=i("bSwM"),L=i("FKr1");function F(e,t){1&e&&(y.Ub(0,"div",38),y.Sb(1),y.Yb(2,l),y.Rb(),y.Tb())}function N(e,t){1&e&&(y.Ub(0,"div",38),y.Sb(1),y.Yb(2,b),y.Rb(),y.Tb())}function A(e,t){1&e&&(y.Ub(0,"div",38),y.Sb(1),y.Nc(2,"Veuillez entrer le num\xe9ro de t\xe9l\xe9phone"),y.Rb(),y.Tb())}function D(e,t){1&e&&(y.Ub(0,"div",38),y.Sb(1),y.Nc(2," Le format du num\xe9ro de t\xe9l\xe9phone n\u2019est pas correct"),y.Rb(),y.Tb())}function z(e,t){if(1&e&&(y.Ub(0,"mat-option",39),y.Nc(1),y.Tb()),2&e){const e=t.$implicit;y.rc("value",e.value),y.Bb(1),y.Oc(e.label)}}function V(e,t){1&e&&(y.Ub(0,"div",38),y.Sb(1),y.Yb(2,d),y.Rb(),y.Tb())}function Y(e,t){if(1&e&&(y.Ub(0,"mat-option",39),y.Nc(1),y.Tb()),2&e){const e=t.$implicit;y.rc("value",e),y.Bb(1),y.Oc(e)}}function G(e,t){1&e&&(y.Ub(0,"div",38),y.Sb(1),y.Yb(2,u),y.Rb(),y.Tb())}function $(e,t){1&e&&(y.Ub(0,"div",40),y.Sb(1),y.Nc(2,"Nous sommes d\xe9sol\xe9s, vous n'avez pas l'\xe2ge l\xe9gal pour avoir un compte client KFC"),y.Rb(),y.Tb())}function j(e,t){1&e&&(y.Ub(0,"div",38),y.Sb(1),y.Yb(2,p),y.Rb(),y.Tb())}function q(e,t){1&e&&(y.Ub(0,"div",38),y.Sb(1),y.Yb(2,h),y.Rb(),y.Tb())}function W(e,t){if(1&e){const e=y.Vb();y.Ub(0,"div",41),y.Ub(1,"mat-checkbox",42),y.ic("change",(function(t){return y.Ec(e),y.mc().onChannelChange(t)})),y.Nc(2),y.Tb(),y.Nc(3),y.Lc(4,q,3,0,"div",18),y.Tb()}if(2&e){const e=t.$implicit,i=y.mc();y.Bb(1),y.rc("value",e.value)("checked",e.checked),y.Bb(1),y.Pc(" J\u2019accepte de recevoir des offres et actualit\xe9s de la part de KFC France par ",e.label," "),y.Bb(1),y.Pc(" ",i.subscribeChannel.erros," "),y.Bb(1),y.rc("ngIf",i.subscribeChannel.touched&&(null==i.subscribeChannel.errors?null:i.subscribeChannel.errors.invalid))}}n="" + "\ufffd0\ufffd" + "",r="Email",o="T\xE9l\xE9phone",s="Mois",a="Ann\xE9e",c="\n          Cr\xE9er mon compte\n        ",l="\n          Adresse email\n        ",b="\n          Veuillez saisir une adresse email valide\n        ",d="Mois",u="Ann\xE9e",p="\n          J'accepte les conditions g\xE9n\xE9rales d'inscription\n        ",h="Veuillez s\xE9lectionner un moyen de communication.";const K=function(){return["/cgu-click-collect"]};let J=(()=>{class e{constructor(e,t,i,n,r,o,s,a,c,l,b){this.injector=e,this.router=t,this.route=i,this.formBuilder=n,this.userauthService=r,this.modalService=o,this.constants=s,this.commonService=a,this.brazeService=c,this.loggerService=l,this.spinnerService=b,this.channels=this.constants.SUBSCRIPTION_CHANNELS,this.years=this.commonService.getYears(),this.months=this.commonService.getLocalizedMonthNames(),this.marketOptIn=!1,this.belowAgeLimit=!1,this.days=[],this.isEmailReadonly=!1,this.goolgeUser={},this.loadMaponCookieConsent=!1,this.authService=this.injector.get(g.b),this.typeSelected="ball-clip-rotate"}ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/",this.loadRegisterForm()}ngAfterViewInit(){setTimeout(()=>{google.accounts.id.initialize({client_id:x.a.GoogleLoginProviderId,callback:e=>this.signInWithGoogle(e)}),google.accounts.id.renderButton(document.getElementById("googleBtn"),{type:"button",theme:"filled_blue",text:"ACCEDE CON GOOGLE",size:"large",width:200}),google.accounts.id.renderButton(document.getElementById("googleBtn1"),{type:"button",theme:"filled_blue",text:"ACCEDE CON GOOGLE",size:"large",width:200})},1e3)}loadRegisterForm(){this.fbregisterForm=this.formBuilder.group({phoneNumber:new C.f("",{validators:this.commonService.phoneNumberValidators()}),email:new C.f("",{validators:this.commonService.emailValidators()}),marketingOptIn:new C.f(!1),birthYear:new C.f("",{validators:this.commonService.dobValidators()}),birthMonth:new C.f("",{validators:this.commonService.dobValidators()}),subscribeChannel:new C.c(this.initChannelFormArray()),acceptTermConditions:new C.f("",[e=>e.value?null:{required:!0}])})}initChannelFormArray(){return this.channels.forEach(e=>e.checked=0),this.channels.map(e=>new C.f(e.checked?e.value:e.checked))}validateNumber(e){(e.charCode<48||e.charCode>57)&&e.preventDefault()}get phoneNumber(){return this.fbregisterForm.get("phoneNumber")}get birthYear(){return this.fbregisterForm.get("birthYear")}get birthMonth(){return this.fbregisterForm.get("birthMonth")}get email(){return this.fbregisterForm.get("email")}get marketingOptIn(){return this.fbregisterForm.get("marketingOptIn")}get subscribeChannel(){return this.fbregisterForm.get("subscribeChannel")}get acceptTermConditions(){return this.fbregisterForm.get("acceptTermConditions")}signInWithGoogle(e){this.loadMaponCookieConsent=!0;try{let i=e.credential.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(i).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));var t=JSON.parse(n);let r=!1;this.isEmailReadonly=!1,this.spinnerService.show(),this.goolgeUser.photoUrl="",this.goolgeUser.RegisterChannelType=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Google Mobile Browser":"Google Desktop Browser",this.goolgeUser.Given_name=t.given_name,this.goolgeUser.Family_name=t.family_name,this.goolgeUser.Sub=t.sub,this.goolgeUser.Email=t.email,this.goolgeUser.GoogleToken=e.credential;let o={};this.goolgeUser.Email&&(this.fbregisterForm.controls.email.setValue(this.goolgeUser.Email),o.email=this.goolgeUser.Email,this.isEmailReadonly=!0),this.user=this.goolgeUser,this.userauthService.validateExistingUser(o).pipe(Object(f.a)()).subscribe(e=>{r=e,r?this.userauthService.SocialLogin(this.goolgeUser,"Google").pipe(Object(f.a)()).subscribe(e=>{this.showSpinner=!1,e.resetPasswordLink?(this.user=e.user,this.resetPasswordLink=e.resetPasswordLink,this.modalService.open(this.constants.MODAL_MIGRATED_USER_RESET_PASSWORD)):(this.spinnerService.hide(),this.brazeService.setLoginInfo(e.email),this.router.url.indexOf("paiement")>-1?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/paiement"])}):this.router.navigate([this.returnUrl]))},e=>{this.showSpinner=!1}):(this.spinnerService.hide(),this.functionType="Google",this.modalService.open("fb-popup"))},e=>{this.showSpinner=!1}),setInterval(()=>{void 0===this.user&&this.spinnerService.hide()},5e3)}catch(i){this.showSpinner=!1}}signInWithFB(){let e=!1;this.isEmailReadonly=!1,this.spinnerService.show(),this.authService.signIn(g.a.PROVIDER_ID,{fields:"name, email, first_name, last_name",scope:"email",return_scopes:!0,enable_profile_selector:!0}),this.authService.authState.subscribe(t=>{t.photoUrl="";try{t.RegisterChannelType=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"Fb Mobile Browser":"Fb Desktop Browser"}catch(n){}this.user=t;let i={};this.user.email?(this.fbregisterForm.controls.email.setValue(this.user.email),i.email=this.user.email,this.isEmailReadonly=!0):(i.facebookId=this.user.id,this.isEmailReadonly=!1),this.userauthService.validateExistingUser(i).pipe(Object(f.a)()).subscribe(t=>{e=t,e?this.userauthService.SocialLogin(this.user,"Facebook").pipe(Object(f.a)()).subscribe(e=>{this.showSpinner=!1,e.resetPasswordLink?(this.user=e.user,this.resetPasswordLink=e.resetPasswordLink,this.modalService.open(this.constants.MODAL_MIGRATED_USER_RESET_PASSWORD)):(this.spinnerService.hide(),this.brazeService.setLoginInfo(e.email),this.router.url.indexOf("paiement")>-1?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/paiement"])}):this.router.navigate([this.returnUrl]))},e=>{this.showSpinner=!1}):(this.spinnerService.hide(),this.functionType="Facebook",this.modalService.open("fb-popup"))},e=>{})}),setInterval(()=>{void 0===this.user&&this.spinnerService.hide()},5e3)}registerFormSubmit(){if(this.belowAgeLimit)return!1;if(this.fbregisterForm.valid){this.spinnerService.show(),this.fbregisterForm.value.birthDay=1;let e=new Date(Date.UTC(this.fbregisterForm.value.birthYear,this.fbregisterForm.value.birthMonth,1));this.fbregisterForm.value.DOB=e.toISOString(),this.user.dob=this.fbregisterForm.value.DOB,this.user.phoneNumber=this.fbregisterForm.value.phoneNumber,this.user.marketingOptIn=this.fbregisterForm.value.marketingOptIn,this.user.subscribeChannel=this.fbregisterForm.value.subscribeChannel,this.user.acceptTermConditions=this.fbregisterForm.value.acceptTermConditions,this.user.email=this.fbregisterForm.value.email,this.userauthService.SocialLogin(this.user,this.functionType).pipe(Object(f.a)()).subscribe(e=>{this.showSpinner=!1,e.resetPasswordLink?(this.user=e.user,this.resetPasswordLink=e.resetPasswordLink,this.modalService.open(this.constants.MODAL_MIGRATED_USER_RESET_PASSWORD)):(this.spinnerService.hide(),this.brazeService.setRegistrationInfo(this.user,this.user.dob),this.router.url.indexOf("paiement")>-1?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/paiement"])}):this.router.navigate([this.returnUrl]))},e=>{this.showSpinner=!1})}else setTimeout(()=>{this.scrollToErrorMessage()},0),this.fbregisterForm.markAllAsTouched()}calAge(){this.belowAgeLimit=!1;let e,t=this.fbregisterForm.get("birthYear").value,i=this.fbregisterForm.get("birthMonth").value,n=new Date,r=n.getFullYear(),o=n.getMonth(),s=r-t;if(o>=i)var a=o-i;else s--,a=12+o-i;e=12*s+a,e<180&&(this.belowAgeLimit=!0)}agevalidity(e){this.belowAgeLimit=!1}scrollToErrorMessage(){const e=document.querySelector(".text-error"),t=e&&e.getBoundingClientRect().top+window.pageYOffset;t&&window.scrollTo({top:t-135,behavior:"smooth"})}onMonthChange(){let e=+this.fbregisterForm.get("birthYear").value,t=+this.fbregisterForm.get("birthMonth").value;this.days=this.commonService.getDaysByMonth(e,t)}onChannelChange(e){let t=this.channels.findIndex(t=>t.value===e.source.value);this.channels[t].checked=e.checked?1:0;let i=this.channels.map(e=>e.checked?e.value:e.checked);this.subscribeChannel.patchValue(i),1!=i[0]&&2!=i[1]||this.fbregisterForm.patchValue({marketingOptIn:!0})}onMarketingOptInChange(e){e.checked?this.marketOptIn=!0:(this.channels.forEach(e=>e.checked=0),this.marketOptIn=!1);let t=this.channels.map(e=>e.checked?e.value:e.checked);this.subscribeChannel.patchValue(t)}resetSubscribeChannel(){this.channels=this.constants.SUBSCRIPTION_CHANNELS,this.subscribeChannel.patchValue(this.initChannelFormArray())}validateSubscribeChannel(){var e=0;if(this.channels.forEach(t=>{if(t.checked)return!0;e++}),2==e)return this.subscribeChannel.setErrors({invalid:!0}),!1}signOut(){this.authService.signOut()}onCloseModalUATCheck(){this.modalService.close("fb-popup")}clearData(){this.modalService.close("fb-popup"),this.fbregisterForm.reset(),this.showSpinner=!1,this.router.navigate(["/mon-compte/connexion"])}}return e.\u0275fac=function(t){return new(t||e)(y.Ob(y.r),y.Ob(O.e),y.Ob(O.a),y.Ob(C.e),y.Ob(m.a),y.Ob(v.a),y.Ob(T.a),y.Ob(w.a),y.Ob(S.a),y.Ob(U.a),y.Ob(k.c))},e.\u0275cmp=y.Ib({type:e,selectors:[["app-social-connect"]],inputs:{isSignup:"isSignup"},decls:83,vars:50,consts:[[1,"social-buttons"],[1,"google-btn"],["id","googleBtn1",3,"ngClass"],[3,"btnTag","btnTagType","btnClass","spinnerVisible","isDisabled","btnType","btnClick"],[1,"button-content","button-icon-content"],[1,"icon-google","fbico"],[1,"icon-facebook"],[1,"fb-text"],[1,"button-content","d-none","round-btn-register","button-icon-content"],["id","fb-popup",1,"custom-common-modal"],[1,"modal-header","clearfix"],[1,"mt-2","fb-heading","text-center"],["href","javascript:void(0)",1,"modal-close",3,"click"],[1,"icon-close"],[3,"formGroup"],[1,"form-group"],["matInput","","placeholder","","required","","type","email","formControlName","email","id","email",3,"readonly"],["userEmail",""],["class","text-error",4,"ngIf"],["matInput","","placeholder","","required","","maxlength","10","type","tel","formControlName","phoneNumber","id","phoneNumberfb","inputmode","numeric","pattern","[0-9]*","digitOnly","",3,"keypress"],["userPhone",""],[1,"form-sub-group","multi-field-group"],[1,"mb-0","h6-normal"],["formControlName","birthMonth","required","","id","birthMonth",3,"disableOptionCentering","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","birthYear","id","birthYear","required","",3,"disableOptionCentering","selectionChange"],["class","text-error mt-2 font-15",4,"ngIf"],[1,"form-group","mb-4","form-group-without-height"],["formControlName","acceptTermConditions",3,"checked"],["href","javascript:void(0)","matRipple","",1,"text-bold",3,"routerLink","matRippleColor","matRippleCentered","matRippleRadius","matRippleUnbounded"],["href","https://privacy.kfc.fr/policies","target","_blank","matRipple","",1,"text-bold",3,"matRippleColor","matRippleCentered","matRippleRadius","matRippleUnbounded"],["class","form-group preferred-channels",4,"ngFor","ngForOf"],[1,"row"],[1,"col-6","sub-btn"],[3,"btnTag","btnClass","spinnerVisible","btnType","click"],[1,"button-content"],[3,"btnTag","btnTagType","btnClass","btnType","spinnerVisible","isDisabled","click"],["bdColor","rgba(51, 51, 51, 0.8)","size","large","color","#934d4d",3,"type"],[1,"text-error"],[3,"value"],[1,"text-error","mt-2","font-15"],[1,"form-group","preferred-channels"],["formArrayName","subscribeChannel",3,"value","checked","change"]],template:function(e,t){1&e&&(y.Ub(0,"div",0),y.Ub(1,"div",1),y.Pb(2,"div",2),y.Ub(3,"app-button",3),y.ic("btnClick",(function(){return t.signInWithGoogle("google")})),y.Ub(4,"span",4),y.Pb(5,"i",5),y.Sb(6),y.Yb(7,n),y.Rb(),y.Tb(),y.Tb(),y.Tb(),y.Ub(8,"app-button",3),y.ic("btnClick",(function(){return t.signInWithFB()})),y.Ub(9,"span",4),y.Pb(10,"i",6),y.Sb(11),y.Ub(12,"span",7),y.Nc(13,"Facebook"),y.Tb(),y.Rb(),y.Tb(),y.Ub(14,"span",8),y.Pb(15,"i",6),y.Sb(16),y.Ub(17,"span",7),y.Nc(18,"Facebook"),y.Tb(),y.Rb(),y.Tb(),y.Tb(),y.Tb(),y.Ub(19,"modal-dialog",9),y.Ub(20,"div",10),y.Ub(21,"h4",11),y.Nc(22,"VALIDER MES INFORMATIONS"),y.Tb(),y.Ub(23,"a",12),y.ic("click",(function(){return t.clearData()})),y.Pb(24,"i",13),y.Tb(),y.Ub(25,"form",14),y.Ub(26,"div",15),y.Ub(27,"mat-form-field"),y.Ub(28,"mat-label"),y.Yb(29,r),y.Tb(),y.Pb(30,"input",16,17),y.Tb(),y.Lc(32,F,3,0,"div",18),y.Lc(33,N,3,0,"div",18),y.Tb(),y.Ub(34,"div",15),y.Ub(35,"mat-form-field"),y.Ub(36,"mat-label"),y.Yb(37,o),y.Tb(),y.Ub(38,"input",19,20),y.ic("keypress",(function(e){return t.validateNumber(e)})),y.Tb(),y.Tb(),y.Lc(40,A,3,0,"div",18),y.Lc(41,D,3,0,"div",18),y.Tb(),y.Ub(42,"div",15),y.Ub(43,"div",21),y.Ub(44,"div"),y.Ub(45,"h6",22),y.Nc(46,"Anniversaire*"),y.Tb(),y.Tb(),y.Ub(47,"div"),y.Ub(48,"mat-form-field"),y.Ub(49,"mat-label"),y.Yb(50,s),y.Tb(),y.Ub(51,"mat-select",23),y.ic("selectionChange",(function(){return t.onMonthChange(),t.calAge()})),y.Lc(52,z,2,2,"mat-option",24),y.Tb(),y.Tb(),y.Lc(53,V,3,0,"div",18),y.Tb(),y.Ub(54,"div"),y.Ub(55,"mat-form-field"),y.Ub(56,"mat-label"),y.Yb(57,a),y.Tb(),y.Ub(58,"mat-select",25),y.ic("selectionChange",(function(){return t.calAge()})),y.Lc(59,Y,2,2,"mat-option",24),y.Tb(),y.Tb(),y.Lc(60,G,3,0,"div",18),y.Tb(),y.Tb(),y.Lc(61,$,3,0,"div",26),y.Tb(),y.Ub(62,"div",27),y.Ub(63,"mat-checkbox",28),y.ic("checked",(function(){return t.acceptTermConditions})),y.Nc(64," J\u2019accepte les "),y.Ub(65,"a",29),y.Nc(66,"conditions d\u2019utilisation"),y.Tb(),y.Nc(67," et je comprends que mes donn\xe9es personnelles seront trait\xe9es selon la "),y.Ub(68,"a",30),y.Nc(69,"politique de Centre de confidentialit\xe9"),y.Tb(),y.Nc(70,". "),y.Tb(),y.Lc(71,j,3,0,"div",18),y.Tb(),y.Lc(72,W,5,5,"div",31),y.Ub(73,"div",32),y.Ub(74,"div",33),y.Ub(75,"app-button",34),y.ic("click",(function(){return t.clearData()})),y.Ub(76,"span",35),y.Nc(77," Annuler "),y.Tb(),y.Tb(),y.Tb(),y.Ub(78,"div",33),y.Ub(79,"app-button",36),y.ic("click",(function(){return t.registerFormSubmit()})),y.Ub(80,"span",35),y.Yb(81,c),y.Tb(),y.Tb(),y.Tb(),y.Tb(),y.Tb(),y.Tb(),y.Tb(),y.Pb(82,"ngx-spinner",37)),2&e&&(y.Bb(2),y.rc("ngClass",t.isSignup?"social-btn-signup":"social-btn-login"),y.Bb(1),y.rc("btnTag","button")("btnTagType","submit")("btnClass","btn btn-red btn-block btn-google")("spinnerVisible",t.showSpinner)("isDisabled",t.showSpinner)("btnType","flat"),y.Bb(4),y.bc("Google"),y.Zb(7),y.Bb(1),y.rc("btnTag","button")("btnTagType","submit")("btnClass","btn btn-block  btn-fb")("spinnerVisible",t.showSpinner)("isDisabled",t.showSpinner)("btnType","flat"),y.Bb(17),y.rc("formGroup",t.fbregisterForm),y.Bb(5),y.rc("readonly",t.isEmailReadonly),y.Bb(2),y.rc("ngIf",t.email.touched&&(null==t.email.errors?null:t.email.errors.required)),y.Bb(1),y.rc("ngIf",t.email.touched&&(null==t.email.errors?null:t.email.errors.email)),y.Bb(7),y.rc("ngIf",t.phoneNumber.touched&&(null==t.phoneNumber.errors?null:t.phoneNumber.errors.required)),y.Bb(1),y.rc("ngIf",t.phoneNumber.invalid&&t.phoneNumber.value),y.Bb(10),y.rc("disableOptionCentering",!0),y.Bb(1),y.rc("ngForOf",t.months),y.Bb(1),y.rc("ngIf",t.birthMonth.touched&&(null==t.birthMonth.errors?null:t.birthMonth.errors.required)),y.Bb(5),y.rc("disableOptionCentering",!0),y.Bb(1),y.rc("ngForOf",t.years),y.Bb(1),y.rc("ngIf",t.birthYear.touched&&(null==t.birthYear.errors?null:t.birthYear.errors.required)),y.Bb(1),y.rc("ngIf",t.belowAgeLimit),y.Bb(4),y.rc("routerLink",y.uc(49,K))("matRippleColor","grey")("matRippleCentered",!0)("matRippleRadius","30")("matRippleUnbounded",!0),y.Bb(3),y.rc("matRippleColor","grey")("matRippleCentered",!0)("matRippleRadius","30")("matRippleUnbounded",!0),y.Bb(3),y.rc("ngIf",t.acceptTermConditions.touched&&(null==t.acceptTermConditions.errors?null:t.acceptTermConditions.errors.required)),y.Bb(1),y.rc("ngForOf",t.channels),y.Bb(3),y.rc("btnTag","button")("btnClass","btn btn-white btn-block btn-black")("spinnerVisible",t.showSpinner)("btnType","raised"),y.Bb(4),y.rc("btnTag","button")("btnTagType","submit")("btnClass","btn btn-block")("btnType","flat")("spinnerVisible",t.showSpinner)("isDisabled",t.fbregisterForm.valid&&!1===t.belowAgeLimit?"false":"true"),y.Bb(3),y.rc("type",t.typeSelected))},directives:[P.j,M.a,I.a,C.z,C.q,C.i,R.c,R.f,E.b,C.b,C.x,C.p,C.g,P.l,C.l,C.u,_.a,P.k,B.a,O.h,L.l,k.a,L.j,C.d],styles:[".action_btn[_ngcontent-%COMP%]{width:200px;margin:0 auto;display:inline;padding:0!important}.fb-heading[_ngcontent-%COMP%]{text-align:center}.fb-text[_ngcontent-%COMP%]{text-transform:none}.social-buttons[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:space-evenly;justify-content:space-evenly}.social-buttons[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:155px}@media (min-width:768px){.social-buttons[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:230px}}@media (min-width:1200px){.social-buttons[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:220px}}@media (min-width:1580px){.social-buttons[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:240px}}.google-btn[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.google-btn[_ngcontent-%COMP%]   #googleBtn[_ngcontent-%COMP%], .google-btn[_ngcontent-%COMP%]   #googleBtn1[_ngcontent-%COMP%]{width:155px}@media (min-width:768px){.google-btn[_ngcontent-%COMP%]   #googleBtn[_ngcontent-%COMP%], .google-btn[_ngcontent-%COMP%]   #googleBtn1[_ngcontent-%COMP%]{width:230px}}@media (min-width:1200px){.google-btn[_ngcontent-%COMP%]   #googleBtn[_ngcontent-%COMP%], .google-btn[_ngcontent-%COMP%]   #googleBtn1[_ngcontent-%COMP%]{width:230px}}@media (min-width:1580px){.google-btn[_ngcontent-%COMP%]   #googleBtn[_ngcontent-%COMP%], .google-btn[_ngcontent-%COMP%]   #googleBtn1[_ngcontent-%COMP%]{width:230px}}[_nghost-%COMP%]  button.btn.btn-google{margin-bottom:10px!important;margin-top:10px!important;border-radius:10px!important;background-color:#202125!important;border-color:#202125!important}#googleBtn[_ngcontent-%COMP%], #googleBtn1[_ngcontent-%COMP%]{position:absolute;z-index:5;margin-top:1%;opacity:0;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}@media (max-width:767px){#googleBtn1.social-btn-login[_ngcontent-%COMP%], #googleBtn1.social-btn-signup[_ngcontent-%COMP%], #googleBtn.social-btn-login[_ngcontent-%COMP%], #googleBtn.social-btn-signup[_ngcontent-%COMP%]{margin-top:3.8%!important}}@media (min-width:768px){#googleBtn1.social-btn-login[_ngcontent-%COMP%], #googleBtn1.social-btn-signup[_ngcontent-%COMP%], #googleBtn.social-btn-login[_ngcontent-%COMP%], #googleBtn.social-btn-signup[_ngcontent-%COMP%]{margin-top:.5%!important}}.icon-google[_ngcontent-%COMP%]{background:url(https://static.kfc.fr/images/loyalty/Google_Icon.png);background-repeat:no-repeat!important;width:40px!important;position:relative;top:-5px;height:35px;right:15px;background-size:100% 40px!important}.icon-facebook[_ngcontent-%COMP%]{background:url(https://static.kfc.fr/images/loyalty/fb_Icon.png)!important}.button-icon-content[_ngcontent-%COMP%]{font-size:22px;font-family:National2Condensed-Bold;letter-spacing:1.3px;text-transform:none!important;top:-5px;position:relative}[_nghost-%COMP%]  button.btn.btn-fb, a.btn.btn-fb[_ngcontent-%COMP%], input.btn.btn-fb[_ngcontent-%COMP%]{background-color:#0865fe!important;border-color:#0865fe!important;border-radius:10px!important}[_nghost-%COMP%]  button.btn.btn-fb .icon-facebook, a.btn.btn-fb[_ngcontent-%COMP%]   .icon-facebook[_ngcontent-%COMP%], input.btn.btn-fb[_ngcontent-%COMP%]   .icon-facebook[_ngcontent-%COMP%]{width:33px!important;position:relative;top:-2px;height:33px;right:11px;background-size:100% 33px!important}[_nghost-%COMP%]  .btn.btn-block{height:3.7142857143rem}"]}),e})()},"W/RB":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var n=i("qFsG"),r=i("kmnG"),o=i("d3UM"),s=i("bSwM"),a=i("QibW"),c=i("fXoL");let l=(()=>{class e{}return e.\u0275mod=c.Mb({type:e}),e.\u0275inj=c.Lb({factory:function(t){return new(t||e)},providers:[],imports:[[n.c,r.e,o.b,s.b,a.c],n.c,r.e,o.b,s.b,a.c]}),e})()},ZcHG:function(e,t,i){"use strict";i.d(t,"a",(function(){return pe}));var n,r,o,s,a,c,l,b,d,u=i("3Pt+"),p=i("IF+5"),h=i("MsxC"),g=i("8/fu"),m=i("zx3v"),f=i("SxV6"),v=i("fFWf"),T=i("YXjc"),w=i("fXoL"),S=i("tyNb"),C=i("Q3OG"),U=i("TtYX"),x=i("ofXK"),y=i("kmnG"),O=i("qFsG"),k=i("VkHG"),P=i("FKr1"),M=i("ajRT"),I=i("AytR"),R=i("jCJ1"),E=i("ElE/");function _(e,t){if(1&e&&(w.Ub(0,"li"),w.Nc(1),w.Tb()),2&e){const e=t.$implicit;w.Bb(1),w.Oc(e)}}function B(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"ul"),w.Lc(2,_,2,1,"li",17),w.Tb(),w.Rb()),2&e){const e=w.mc(2);w.Bb(2),w.rc("ngForOf",e.error.errors)}}function L(e,t){if(1&e&&(w.Ub(0,"ul"),w.Ub(1,"li"),w.Nc(2),w.Tb(),w.Tb()),2&e){const e=w.mc(2);w.Bb(2),w.Oc(e.constants.GENERIC_ERROR)}}function F(e,t){if(1&e&&(w.Ub(0,"app-message-info",13),w.Sb(1,14),w.Lc(2,B,3,1,"ng-container",15),w.Lc(3,L,3,1,"ng-template",null,16,w.Mc),w.Rb(),w.Tb()),2&e){const e=w.Bc(4),t=w.mc();w.rc("showError",t.showStatus.error)("msgType","error"),w.Bb(2),w.rc("ngIf",t.error&&t.error.errors&&t.error.errors.length>0)("ngIfElse",e)}}function N(e,t){1&e&&(w.Ub(0,"app-message-info",18),w.Sb(1,14),w.Yb(2,c),w.Rb(),w.Tb()),2&e&&w.rc("msgType","success-info")}function A(e,t){1&e&&(w.Ub(0,"div",19),w.Sb(1),w.Yb(2,l),w.Rb(),w.Tb())}function D(e,t){1&e&&(w.Ub(0,"div",19),w.Sb(1),w.Yb(2,b),w.Rb(),w.Tb())}function z(e,t){1&e&&(w.Ub(0,"div",19),w.Sb(1),w.Yb(2,d),w.Rb(),w.Tb())}n="\n          Mot de passe oubli\xE9 ?\n        ",r="\n          Ne vous inqui\xE9tez pas\n        ",o="\n          Nous allons vous envoyer un email avec des instructions sur la fa\xE7on de changer votre mot de passe.\n        ",s="Email",a="\n          R\xE9initialiser mon mot de passe\n        ",c="\n          Veuillez v\xE9rifier dans votre boite de r\xE9ception ou dans vos courriers ind\xE9sirables que vous avez bien re\xE7u le message de r\xE9initialisation de votre mot de passe. Si vous ne recevez pas cet e-mail, veuillez cr\xE9er un compte en ligne.\n        ",l="\n          Adresse email\n        ",b="\n          Veuillez saisir une adresse email valide\n        ",d="\n          Veuillez compl\xE9ter la validation captcha.\n        ";let V=(()=>{class e{constructor(e,t,i,n,r){this.formBuilder=e,this.authenticationService=t,this.modalService=i,this.commonService=n,this.constants=r,this.siteKey=I.a.forgetPwdCaptchaSiteKey,this.captchaResponse=null,this.captchaError=!1}ngOnDestroy(){this.forgotPasswordSubscription&&this.forgotPasswordSubscription.unsubscribe()}onCaptchaResolved(e){this.captchaResponse=e,this.captchaError=!1}ngOnInit(){this.loadForgotPasswordForm()}loadForgotPasswordForm(){this.forgotPasswordForm=this.formBuilder.group({email:new u.f("",{validators:this.commonService.emailValidators()}),captcha:new u.f("",{validators:[u.y.required]})})}get email(){return this.forgotPasswordForm.get("email")}onSubmit(){this.forgotPasswordForm.valid?(this.showSpinner=!0,this.forgotPasswordSubscription=this.authenticationService.forgotPassword(this.forgotPasswordForm.value).subscribe(e=>{this.showSpinner=!1,this.forgotPasswordForm.reset(),this.showStatus.success=!0},e=>{this.showSpinner=!1,this.showStatus.error=!0,this.error=e.error})):(this.captchaResponse||(this.captchaError=!0),this.forgotPasswordForm.markAllAsTouched())}}return e.\u0275fac=function(t){return new(t||e)(w.Ob(u.e),w.Ob(h.a),w.Ob(g.a),w.Ob(p.a),w.Ob(m.a))},e.\u0275cmp=w.Ib({type:e,selectors:[["app-forget-password"]],inputs:{showStatus:"showStatus"},decls:23,vars:11,consts:[[1,"forget-password-modal"],[1,"mb-1"],[3,"showError","msgType",4,"ngIf"],[3,"msgType",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["for","txtEmailID"],["matInput","","placeholder","","id","txtEmailID","name","Email","required","","formControlName","email","type","email","value",""],["userEmail",""],["class","text-error",4,"ngIf"],["formControlName","captcha","name","captcha",3,"siteKey","resolved"],[3,"btnClass","spinnerVisible","isDisabled","btnType","btnClick"],[1,"button-content"],[3,"showError","msgType"],[1,"message-content"],[4,"ngIf","ngIfElse"],["genericError",""],[4,"ngFor","ngForOf"],[3,"msgType"],[1,"text-error"]],template:function(e,t){1&e&&(w.Ub(0,"div",0),w.Ub(1,"h3",1),w.Yb(2,n),w.Tb(),w.Ub(3,"h4"),w.Yb(4,r),w.Tb(),w.Ub(5,"p"),w.Yb(6,o),w.Tb(),w.Lc(7,F,5,4,"app-message-info",2),w.Lc(8,N,3,1,"app-message-info",3),w.Ub(9,"form",4),w.Ub(10,"div",5),w.Ub(11,"mat-form-field"),w.Ub(12,"mat-label",6),w.Yb(13,s),w.Tb(),w.Pb(14,"input",7,8),w.Tb(),w.Lc(16,A,3,0,"div",9),w.Lc(17,D,3,0,"div",9),w.Ub(18,"re-captcha",10),w.ic("resolved",(function(e){return t.onCaptchaResolved(e)})),w.Tb(),w.Lc(19,z,3,0,"div",9),w.Tb(),w.Ub(20,"app-button",11),w.ic("btnClick",(function(){return t.onSubmit()})),w.Ub(21,"span",12),w.Yb(22,a),w.Tb(),w.Tb(),w.Tb(),w.Tb()),2&e&&(w.Bb(7),w.rc("ngIf",t.showStatus.error),w.Bb(1),w.rc("ngIf",t.showStatus.success),w.Bb(1),w.rc("formGroup",t.forgotPasswordForm),w.Bb(7),w.rc("ngIf",t.email.touched&&(null==t.email.errors?null:t.email.errors.required)),w.Bb(1),w.rc("ngIf",t.email.touched&&(null==t.email.errors?null:t.email.errors.email)),w.Bb(1),w.rc("siteKey",t.siteKey),w.Bb(1),w.rc("ngIf",t.captchaError),w.Bb(1),w.rc("btnClass","btn btn-block")("spinnerVisible",t.showSpinner)("isDisabled",t.showSpinner)("btnType","raised"))},directives:[x.l,u.z,u.q,u.i,y.c,y.f,O.b,u.b,u.x,u.p,u.g,R.e,R.i,k.a,E.a,x.k],styles:[".forget-password-modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .forget-password-modal[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .forget-password-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.forget-password-modal[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:none}.forget-password-modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:10px}"]}),e})();var Y,G,$,j,q,W,K,J,X,H,Z,Q,ee,te;function ie(e,t){if(1&e&&(w.Ub(0,"li"),w.Nc(1),w.Tb()),2&e){const e=t.$implicit;w.Bb(1),w.Oc(e)}}function ne(e,t){if(1&e&&(w.Sb(0),w.Ub(1,"ul"),w.Lc(2,ie,2,1,"li",43),w.Tb(),w.Rb()),2&e){const e=w.mc(2);w.Bb(2),w.rc("ngForOf",e.error.errors)}}function re(e,t){if(1&e&&(w.Ub(0,"ul"),w.Ub(1,"li"),w.Nc(2),w.Tb(),w.Tb()),2&e){const e=w.mc(2);w.Bb(2),w.Oc(e.constants.GENERIC_ERROR)}}function oe(e,t){if(1&e&&(w.Ub(0,"app-message-info",39),w.Sb(1,40),w.Lc(2,ne,3,1,"ng-container",41),w.Lc(3,re,3,1,"ng-template",null,42,w.Mc),w.Rb(),w.Tb()),2&e){const e=w.Bc(4),t=w.mc();w.rc("showError",t.showError)("msgType","error"),w.Bb(2),w.rc("ngIf",t.error&&t.error.errors&&t.error.errors.length>0)("ngIfElse",e)}}function se(e,t){1&e&&(w.Ub(0,"div",44),w.Sb(1),w.Yb(2,H),w.Rb(),w.Tb())}function ae(e,t){1&e&&(w.Ub(0,"div",44),w.Sb(1),w.Yb(2,Z),w.Rb(),w.Tb())}function ce(e,t){1&e&&(w.Ub(0,"div",44),w.Sb(1),w.Yb(2,Q),w.Rb(),w.Tb())}function le(e,t){1&e&&(w.Ub(0,"div",44),w.Sb(1),w.Yb(2,ee),w.Rb(),w.Tb())}function be(e,t){if(1&e&&(w.Ub(0,"h4"),w.Sb(1),w.Yb(2,te),w.Rb(),w.Tb()),2&e){const e=w.mc();w.Bb(2),w.bc(e.user.firstName),w.Zb(2)}}Y="Se connecter",G="Email",$="Mot de passe",j="\n          Mot de passe oubli\xE9 ?\n        ",q="Se connecter",W="\n          Pas encore de compte ?\n        ",K="\n          S'inscrire\n        ",J="\n          Prep\xE1rate para un mont\xF3n de nuevas funciones." + "\ufffd#59\ufffd\ufffd/#59\ufffd" + "\n          Para acceder a estos, " + "\ufffd#60\ufffd" + "tu contrase\xF1a debe cumplir con nuestros requisitos." + "\ufffd/#60\ufffd" + "\n        ",X="\n          Changer le mot de passe\n        ",H="\n          Adresse email\n        ",Z="\n          Veuillez saisir une adresse email valide\n        ",Q="\n          Mot de passe\n        ",ee="\n          Les mots de passe doivent inclure une lettre majuscule, une lettre minuscule, un chiffre et l'un des symboles suivants:! @ # $% &-?^*\n        ",te="\n          Bonjour, " + "\ufffd0\ufffd" + "! Bienvenue sur le nouveau site de KFC France.\n        ";const de=function(){return["/mon-compte/inscription"]},ue=function(e,t){return{"icon-password":e,"icon-password-slash":t}};let pe=(()=>{class e{constructor(e,t,i,n,r,o,s,a,c){this.formBuilder=e,this.commonService=t,this.router=i,this.route=n,this.authenticationService=r,this.modalService=o,this.constants=s,this.brazeService=a,this.gtmService=c,this.forgetPasswordStatus={success:!1,error:!1},this.loadMaponCookieConsent=!1}ngOnInit(){this.loadLoginForm(),this.gtmService.signInStart(),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}ngAfterViewInit(){}loadLoginForm(){this.loginForm=this.formBuilder.group({email:new u.f("",{validators:this.commonService.emailValidators()}),password:new u.f("",{validators:[u.y.required]})})}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}showPassword(){this.passwordType=!this.passwordType}loginFormSubmit(){this.loginForm.valid?(this.showSpinner=!0,this.showError=!1,this.authenticationService.login(this.loginForm.value).pipe(Object(f.a)()).subscribe(e=>{if(this.showSpinner=!1,e.resetPasswordLink)this.user=e.user,this.resetPasswordLink=e.resetPasswordLink,this.modalService.open(this.constants.MODAL_MIGRATED_USER_RESET_PASSWORD);else{if(e.is2StepVerificationRequired)return void this.router.navigate(["/mon-compte/two-step-verification"],{queryParams:{returnUrl:this.returnUrl,provider:e.provider,email:this.loginForm.controls.email.value}});this.gtmService.sendLoginSuccessStatus(),e.user&&(this.gtmService.signInFinish(e.user),this.brazeService.setLoginInfo(e.user.email)),this.router.url.indexOf("paiement")>-1?this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/paiement"])}):this.router.navigate(["/loyalty"])}},e=>{this.showSpinner=!1,this.showError=!0,this.error=e.error,this.error||this.gtmService.embeddedErrormsg(this.constants.GENERIC_ERROR),1===this.error.errors.length&&(this.gtmService.sendLoginFailureStatus(this.error.errors[0]),this.gtmService.embeddedErrormsg(this.error.errors[0]))})):this.loginForm.markAllAsTouched()}onConfirmResetPassword(){this.modalService.close(this.constants.MODAL_MIGRATED_USER_RESET_PASSWORD),document.location.href=this.resetPasswordLink}onModalClose(){this.forgetPasswordStatus.success=!1,this.forgetPasswordStatus.error=!1,this.modalService.close("forget-password-modal")}onCloseModalUATCheck(){this.modalService.close("uatsite"),window.location.href="https://www.kfc.fr/"}}return e.\u0275fac=function(t){return new(t||e)(w.Ob(u.e),w.Ob(p.a),w.Ob(S.e),w.Ob(S.a),w.Ob(h.a),w.Ob(g.a),w.Ob(m.a),w.Ob(v.a),w.Ob(T.a))},e.\u0275cmp=w.Ib({type:e,selectors:[["app-login-section"]],decls:71,vars:34,consts:[[1,"banner-area","d-block","d-md-none"],[3,"routerLink"],[3,"imgClassName","imgFolder","imgName"],[1,"login-title"],[1,"login-subtitle"],["id","social-connect-space",1,"social-section","mt-4"],["align","center",1,"divider"],[1,"login-section","form-area"],[3,"showError","msgType",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["matInput","","placeholder","","required","","autocomplete","off","formControlName","email","id","email"],["userEmail",""],["class","text-error",4,"ngIf"],[1,"form-group","input-with-icon"],["matInput","","formControlName","password","id","password","required","",3,"type"],["userPassword",""],["href","javascript:void(0);",3,"click"],[3,"ngClass"],[1,"forget-password-link"],["href","javascript:void(0)",3,"click"],[1,"sticky-button"],[3,"btnTag","btnTagType","btnClass","spinnerVisible","isDisabled","btnType"],[1,"button-content"],[1,"text-center","mt-4"],["matRipple","",1,"text-bold","link-underline",3,"routerLink","matRippleCentered","matRippleRadius","matRippleUnbounded"],["id","forget-password-modal",1,"custom-common-modal"],[1,"modal-header","clearfix"],["href","javascript:void(0)",1,"modal-close",3,"click"],[1,"icon-close"],[1,"modal-body"],[3,"showStatus"],[1,"custom-common-modal",3,"id"],[4,"ngIf"],[1,"text-bold"],[3,"btnTag","btnTagType","btnClass","btnType","btnClick"],["id","uatsite",1,"custom-common-modal"],[1,"modal-body","text-center"],[1,"red-hightlighted-text"],[3,"showError","msgType"],[1,"message-content"],[4,"ngIf","ngIfElse"],["genericError",""],[4,"ngFor","ngForOf"],[1,"text-error"]],template:function(e,t){1&e&&(w.Ub(0,"div",0),w.Ub(1,"a",1),w.Pb(2,"app-picture",2),w.Tb(),w.Tb(),w.Ub(3,"h1",3),w.Yb(4,Y),w.Tb(),w.Ub(5,"h6",4),w.Nc(6,"JE ME CONNECTE AVEC"),w.Tb(),w.Ub(7,"div",5),w.Pb(8,"app-social-connect"),w.Ub(9,"p",6),w.Ub(10,"span"),w.Nc(11,"OU"),w.Tb(),w.Tb(),w.Tb(),w.Ub(12,"div",7),w.Lc(13,oe,5,4,"app-message-info",8),w.Ub(14,"form",9),w.ic("ngSubmit",(function(){return t.loginFormSubmit()})),w.Ub(15,"div",10),w.Ub(16,"mat-form-field"),w.Ub(17,"mat-label"),w.Yb(18,G),w.Tb(),w.Pb(19,"input",11,12),w.Tb(),w.Lc(21,se,3,0,"div",13),w.Lc(22,ae,3,0,"div",13),w.Tb(),w.Ub(23,"div",14),w.Ub(24,"mat-form-field"),w.Ub(25,"mat-label"),w.Yb(26,$),w.Tb(),w.Pb(27,"input",15,16),w.Tb(),w.Ub(29,"a",17),w.ic("click",(function(){return t.showPassword()})),w.Pb(30,"i",18),w.Tb(),w.Lc(31,ce,3,0,"div",13),w.Lc(32,le,3,0,"div",13),w.Tb(),w.Ub(33,"div",19),w.Ub(34,"a",20),w.ic("click",(function(){return t.modalService.open("forget-password-modal")})),w.Yb(35,j),w.Tb(),w.Tb(),w.Ub(36,"div",21),w.Ub(37,"app-button",22),w.Ub(38,"span",23),w.Yb(39,q),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Ub(40,"p",24),w.Sb(41),w.Yb(42,W),w.Rb(),w.Ub(43,"a",25),w.Yb(44,K),w.Tb(),w.Tb(),w.Tb(),w.Ub(45,"modal-dialog",26),w.Ub(46,"div",27),w.Ub(47,"a",28),w.ic("click",(function(){return t.onModalClose()})),w.Pb(48,"i",29),w.Tb(),w.Tb(),w.Ub(49,"div",30),w.Pb(50,"app-forget-password",31),w.Tb(),w.Tb(),w.Ub(51,"modal-dialog",32),w.Ub(52,"div",27),w.Ub(53,"a",28),w.ic("click",(function(){return t.modalService.close(t.constants.MODAL_MIGRATED_USER_RESET_PASSWORD)})),w.Pb(54,"i",29),w.Tb(),w.Tb(),w.Ub(55,"div",30),w.Lc(56,be,3,1,"h4",33),w.Ub(57,"p"),w.dc(58,J),w.Pb(59,"br"),w.Pb(60,"span",34),w.ac(),w.Tb(),w.Ub(61,"app-button",35),w.ic("btnClick",(function(){return t.onConfirmResetPassword()})),w.Ub(62,"span",23),w.Yb(63,X),w.Tb(),w.Tb(),w.Tb(),w.Tb(),w.Ub(64,"modal-dialog",36),w.Ub(65,"div",27),w.Ub(66,"a",28),w.ic("click",(function(){return t.onCloseModalUATCheck()})),w.Pb(67,"i",29),w.Tb(),w.Tb(),w.Ub(68,"div",37),w.Ub(69,"p",38),w.Nc(70," Attention ceci est un site TEST pour KFC France, merci de bien vouloir vous redirigerez vers le site https://www.kfc.fr/ "),w.Tb(),w.Tb(),w.Tb()),2&e&&(w.Bb(1),w.rc("routerLink",w.uc(29,de)),w.Bb(1),w.rc("imgClassName","img-fluid")("imgFolder","loyalty")("imgName","login-xs.jpg"),w.Bb(11),w.rc("ngIf",t.showError),w.Bb(1),w.rc("formGroup",t.loginForm),w.Bb(7),w.rc("ngIf",t.email.touched&&(null==t.email.errors?null:t.email.errors.required)),w.Bb(1),w.rc("ngIf",t.email.touched&&(null==t.email.errors?null:t.email.errors.email)),w.Bb(5),w.rc("type",t.passwordType?"text":"password"),w.Bb(3),w.rc("ngClass",w.wc(30,ue,!t.passwordType,t.passwordType)),w.Bb(1),w.rc("ngIf",t.password.touched&&(null==t.password.errors?null:t.password.errors.required)),w.Bb(1),w.rc("ngIf",t.password.touched&&(null==t.password.errors?null:t.password.errors.pattern)),w.Bb(5),w.rc("btnTag","button")("btnTagType","submit")("btnClass","btn btn-block")("spinnerVisible",t.showSpinner)("isDisabled",t.showSpinner)("btnType","raised"),w.Bb(6),w.rc("routerLink",w.uc(33,de))("matRippleCentered",!0)("matRippleRadius","30")("matRippleUnbounded",!0),w.Bb(7),w.rc("showStatus",t.forgetPasswordStatus),w.Bb(1),w.sc("id",t.constants.MODAL_MIGRATED_USER_RESET_PASSWORD),w.Bb(5),w.rc("ngIf",t.user),w.Bb(5),w.rc("btnTag","button")("btnTagType","submit")("btnClass","btn btn-block")("btnType","raised"))},directives:[S.h,C.a,U.a,x.l,u.z,u.q,u.i,y.c,y.f,O.b,u.b,u.x,u.p,u.g,x.j,k.a,P.l,M.a,V,E.a,x.k],styles:['.login-content .social-section{padding:0 1.0714285714rem}@media (min-width:768px){.login-content .social-section{padding:0 2.1428571429rem}}@media (min-width:1200px){.login-content .social-section{padding:0 2.8571428571rem}}@media (min-width:1580px){.login-content .social-section{padding:0 1.0714285714rem}}.login-content .login-section{padding:.7142857143rem 1.0714285714rem}@media (min-width:768px){.login-content .login-section{padding:2.1428571429rem}}@media (min-width:1200px){.login-content .login-section{padding:.7142857143rem 2.8571428571rem}}@media (min-width:1580px){.login-content .login-section{padding:4.2857142857rem 1.0714285714rem}}@media (max-width:991px){.login-content{padding:0}}@media (min-width:992px){.login-content .block-left{-ms-flex:0 0 45%;flex:0 0 45%}.login-content .block-right{-ms-flex:0 0 55%;flex:0 0 55%}}@media (min-width:1200px){.login-content .block-left{-ms-flex:0 0 52%;flex:0 0 52%}.login-content .block-right{-ms-flex:0 0 50%;flex:0 0 50%}}@media (min-width:1580px){.login-content .block-left{-ms-flex:0 0 45%;flex:0 0 45%}.login-content .block-right{-ms-flex:0 0 55%;flex:0 0 55%}}.login-content .form-area{margin:0 auto}h1.login-title{padding:15px 15px 0}@media (min-width:992px){h1.login-title{padding:28px 15px 0 55px;margin-bottom:0}}.login-subtitle{padding:15px 15px 0}@media (min-width:992px){.login-subtitle{padding:28px 15px 0 55px;margin-bottom:0}}.login-section .forget-password-link{text-align:right;margin-bottom:1.7857142857rem}.checkout-content .login-section .login-title{display:none}.checkout-content .login-checkout .sticky-button{position:static;padding:0}.social-section h5{position:relative;text-transform:uppercase;letter-spacing:2px}.social-section h5:before{position:absolute;content:"";background:rgba(0,0,0,.1);height:2px;width:100%;top:calc(50% - 2px)}.social-section h5 span{background:#fff;display:inline-block;padding:0 1.0714285714rem 0 0;position:relative}#social-connect-space{text-align:center}@media (min-width:768px){#social-connect-space{width:550px;margin:0 auto}}@media (min-width:1200px){#social-connect-space{width:550px;margin:0 auto}}@media (min-width:1580px){#social-connect-space{width:550px;margin:0 auto}}#social-connect-space ::ng-deep .social-buttons{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}#social-connect-space ::ng-deep .social-buttons app-button{-ms-flex:0 0 47%;flex:0 0 47%}#social-connect-space ::ng-deep .btn-fb{border-radius:10px;padding:10px;margin:0 auto;text-align:center}#social-connect-space .divider{width:100%;text-align:center;border-bottom:1px solid #b3b2b2;line-height:.1em;margin:5% 0}@media (min-width:768px){#social-connect-space .divider{width:75%;margin:5% 10%}}@media (min-width:1200px){#social-connect-space .divider{width:75%;margin:5% 10%}}@media (min-width:1580px){#social-connect-space .divider{width:75%;margin:5% 10%}}#social-connect-space .divider span{background:#fff;padding:0 10px}#social-connect-space ::ng-deep .button-content{display:none!important}#social-connect-space ::ng-deep .round-btn-register{display:block!important}::ng-deep button.btn,a.btn{padding:5px}'],encapsulation:2}),e})()},rP0y:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var n=i("ofXK"),r=i("PCNd"),o=i("3Pt+"),s=i("W/RB"),a=i("KzTZ"),c=i("L4SR"),l=i("tyNb"),b=i("jCJ1"),d=i("Vpbp"),u=i("fXoL");let p=(()=>{class e{}return e.\u0275mod=u.Mb({type:e}),e.\u0275inj=u.Lb({factory:function(t){return new(t||e)},providers:[{provide:b.b,useValue:"fr"}],imports:[[n.b,r.a,l.i,o.k,o.w,s.a,a.a,d.a,b.f,c.a]]}),e})()}}]);